<!DOCTYPE html>
<!-- saved from url=(0054)http://fiddle.jshell.net/doktormolle/ZffgF/show/light/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">.gm-style .gm-style-mtc label,.gm-style .gm-style-mtc div{font-weight:400}</style><link type="text/css" rel="stylesheet" href="./css(1)"><style type="text/css">.gm-style .gm-style-cc span,.gm-style .gm-style-cc a,.gm-style .gm-style-mtc div{font-size:10px}</style><style type="text/css">@media print {  .gm-style .gmnoprint, .gmnoprint {    display:none  }}@media screen {  .gm-style .gmnoscreen, .gmnoscreen {    display:none  }}</style><style type="text/css">.gm-style { font: 400 11px Roboto, Arial, sans-serif;text-decoration: none; }.gm-style img { max-width: none; }</style>
  
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">

  
  

  
  
  

  

  <script type="text/javascript" src="./dummy.js"></script>

  

  

  

  
    <link rel="stylesheet" type="text/css" href="./result-light.css">
  

  
    
      <script type="text/javascript" src="./js"></script>
    
  

  <style type="text/css">
    html,body,#googft-mapCanvas{
    margin:0;
    padding:0;
    height:100%;
    
}
  </style>

  <title>google-maps: toggle-highlight clicked geometry in FusionTableLayer by doktormolle</title>

  
    




<script type="text/javascript">//<![CDATA[

  function initialize() {
    google.maps.visualRefresh = true;
    var map = new google.maps.Map(document.getElementById('googft-mapCanvas'), {
      center: new google.maps.LatLng(42, -83),
      zoom: 7,
      minZoom:6,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    }),
    

    //https://developers.google.com/maps/documentation/javascript/fusiontableslayer?hl=zh-cn
    layer_0 = new google.maps.FusionTablesLayer({
      map: map,
      heatmap: { enabled: false },
      query: {
        select: "col1",
        from: "1jgWYtlqGSPzlIa-is8wl1cZkVIWEm_89rWUwqFU",
        where: ""
      },
      options: {
        styleId: 22,
        templateId: 19
      }
    }),
    //selected will be populated on layer-cllick with the postcod and
    //a boolean (true when the area is highlighted, otherwise false)
    selected={};
    
    google.maps.event.addListener(layer_0, 'click', function(e) {
    var val=e.row['Postcode district'].value,

        vals=[];

    
    //update the selected-object
    selected[val]=(!selected[val])?true:false;


console.log(val);
    
    //populate the vals-array with the selected postcodes 
    for(var k in selected){
      if(selected[k]){
         vals.push(k);
      }
    }
    console.log(vals)
    
    layer_0.set("styles", [{
      where: "'Postcode district' IN('"+vals.join("','")+"')",
      polygonOptions: {
        fillColor: "#000000"
      }
    }]);
  });
  }

  google.maps.event.addDomListener(window, 'load', initialize);
//]]> 

</script>

  
<script type="text/javascript" charset="UTF-8" src="./common.js"></script>





<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDVWz2PUS43XXyj3IuLlkZ0XmI_IFwGTws">
    </script>


<script type="text/javascript" charset="UTF-8" src="./util.js"></script><script type="text/javascript" charset="UTF-8" src="./onion.js"></script><script type="text/javascript" charset="UTF-8" src="./infowindow.js"></script> <script type="text/javascript" charset="UTF-8" src="./stats.js"></script><script type="text/javascript" charset="UTF-8" src="./controls.js"></script> <script type="text/javascript" charset="UTF-8" src="./marker.js"></script> </head>

<body>
  <div id="googft-mapCanvas"></div>
  






</body></html>